const { test } = require('@playwright/test')
const { callStoryId } = require('../../uib-components/.utils/playwright/pw-story-call')
const en = require('../../uib-components/locale/en.json')
const de = require('../../uib-components/locale/de.json')

test('Product Properties', async ({ page }) => {
  await callStoryId(page, 'view-v-product-property', 'v-product-property')
  const component = await page.locator('[data-testid="VProductProperty"]')
  await page.setViewportSize({ width: 1280, height: 300 })
  await page.evaluate((val) => { document.querySelector('.nav-title').innerHTML = val }, en['title.config'])
  await page.evaluate((val) => { document.querySelector('.property').innerHTML = val }, en['title.properties'])
  await page.evaluate((val) => { document.querySelector('.dependency').innerHTML = val }, en['title.dependencies'])
  await page.evaluate((val) => { document.querySelector('.noClientsSelectedShowDepot').innerHTML = val }, en['message.warning.noClientsSelectedShowDepot'])
  await page.evaluate((val) => { document.querySelector('.notOnEachDepot').innerHTML = val }, en['message.warning.notOnEachDepot'])
  await component.screenshot({ path: './screenshots/en/opsiweb_productproperties.png' })
  await page.evaluate((val) => { document.querySelector('.nav-title').innerHTML = val }, de['title.config'])
  await page.evaluate((val) => { document.querySelector('.property').innerHTML = val }, de['title.properties'])
  await page.evaluate((val) => { document.querySelector('.dependency').innerHTML = val }, de['title.dependencies'])
  await page.evaluate((val) => { document.querySelector('.noClientsSelectedShowDepot').innerHTML = val }, de['message.warning.noClientsSelectedShowDepot'])
  await page.evaluate((val) => { document.querySelector('.notOnEachDepot').innerHTML = val }, de['message.warning.notOnEachDepot'])
  await component.screenshot({ path: './screenshots/de/opsiweb_productproperties.png' })
})
